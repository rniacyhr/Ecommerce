<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping cart | Secret Shop</title>
    <link rel="icon" href="./IMAGES/logo.png">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
    <div class="header">
    <div class="container">
        <div class="navbar">
            <div class="logo">
                <a href="./index.html"><img src="./IMAGES/logo.png" width="125px"></a>
            </div>
            <nav>
                <ul  id="MenuItems">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="products.html">Shop</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li>
                        <div class="shopCartAndCount">
                            <a class="active" href="cart.html"><i class="fa fa-shopping-bag"></i></a>
                            <p class="cartCount" id="count-cart"style="color: whitesmoke"></p>
                        </div>
                    </li>
                </ul>
            </nav>
            <img src="./IMAGES/menu.png" class="menu-icon" onclick="menutoggle()">
        </div>
    </div>
   </div>

<!-------cart items details----->


<section id="cart" class="">
    <table width="100%">
        <thead>
            <tr>
                <td>Remove</td>
                <td>Image</td>
                <td>Product</td>
                <td>Price</td>
                <td>Quantity</td>
                <td>Subtotal</td>
            </tr>
        </thead>
        <tbody id="show-cart">
            <!-- <tr>
                <td><i class="fa fa-times"></i><a href=""></a></td>
                <td><img src="./Explorer II - Rolex/explorerII_front.png"></td>
                <td class="data-name">Rolex</td>
                <td class="dta-price">PHP 506,500</td>
                <td><input type="number" value="1"></td>
                <td>PHP 506,500</td>
            </tr> -->
            
        </tbody>
    </table>
</section>

<section id="cart-add">
    <div id="subtotal">
        <h3>Cart Total</h3>
        <table>
            <tr>
                <td>Cart Subtotal</td>
                <td>PHP<span id="totalsub-cart"></span></td>
            </tr>
            <tr>
                <td>Shipping</td>
                <td>FREE</td>
            </tr>
            <tr>
                <td><strong>Total</strong></td>
                <td><strong>PHP<span id="total-cart"></span></strong></td>
            </tr>
        </table>
        <button class="normal">Proceed to checkout</button>
    </div>
</section>

<!---------- footer------->

    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col-1">
                    <h2>Download Our App</h2>
                    <p>Download App for Android and ios mobile phone.</p>
                    <div class="app-logo">
                        <a href="https://play.google.com/store/apps"><img src="./IMAGES/play-store.png"></a>
                        <a href="https://www.apple.com/app-store/"><img src="./IMAGES/app-store.png"></a>
                    </div>
                    <p>Secured Payment Gateways</p>
                    <ul>
                        <li><i class="fa fa-paypal"></i>
                        <li><i class="fa fa-cc-visa"></i></li>
                        <li><i class="fa fa-cc-mastercard"></i></li>
                        <li><i class="fa fa-cc-amex"></i></li>
                    </ul>
                </div>
                    <div class="footer-col-2">
                        <h2>Sitemap:</h2>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Shop</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li> 
                    
                </div>   
                <div class="footer-col-3">
                    <h1>Follow us</h1>
                    <div class="socmed">
                        <a class="btn btn-primary btn-lg btn-floating"  style="background-color: #3b5998;"  href="https://www.facebook.com"  role="button"><i class="fa fa-facebook fa-lg"></i></a>
                        <a class="btn btn-primary btn-lg btn-floating"  style="background-color: #55acee;"  href="https://www.twitter.com"  role="button"><i class="fa fa-twitter fa-lg"></i></a>
                        <a class="btn btn-primary btn-lg btn-floating"  style="background-color: #ac2bac;"  href="https://www.instagram.com"  role="button"><i class="fa fa-instagram fa-lg"></i></a>
                        <a class="btn btn-primary btn-lg btn-floating"  style="background-color: #c61118;"  href="https://www.pinterest.com"  role="button"><i class="fa fa-pinterest-p fa-lg"></i></a>
                        <a class="btn btn-primary btn-lg btn-floating"  style="background-color: #25d366;"  href="https://www.whatsapp.com"  role="button"><i class="fa fa-whatsapp fa-lg"></i></a>
                        <a class="btn btn-primary btn-lg btn-floating"  style="background-color: #ed302f;"  href="https://www.youtube.com"  role="button"><i class="fa fa-youtube-play fa-lg"></i></a>
                    </div>  
                </div>
            </div>
            <hr>
            <p class="copyright">Copyright 2022 - Secret Shop Weebies 14P</p>
        </div>
    </div>

<!----js for toggle menu-->

<script src="script.js"></script>

<script src="ShoppingCart.js"></script>
<script>
    $(".add-to-cart").click(function(event){
        event.preventDefault();
        //console.log(event.target.dataset.dataName);
        var name = $(this).attr("data-name");
        var price = Number($(this).attr("data-price"));
        var img = $(this).attr("data-src");
        shoppingCart.addItemToCart(name, price, img, 1);
        // console.log(name, price)
        displayCart();
    });
    $("#clear-cart").click(function(event){
        shoppingCart.clearCart();
        displayCart();
    });
    function displayCart() {
        var cartArray = shoppingCart.listCart();
        // console.log(cartArray);
        var output = "";
        for (var i in cartArray) {
            output += "<tr>"+
                "<td><button class='delete-item' data-name='"
                +cartArray[i].name+"'>remove</button></td>"+
                "<td><img src=\""+cartArray[i].img+"\"></td>"+
                "<td>"+cartArray[i].name+"</td>"+
                "<td>PHP"+cartArray[i].price+"</td>"+
                "<td><button class='plus-item' data-name='"
                +cartArray[i].name+"'>+</button>"
                +cartArray[i].count
                +" <button class='subtract-item' data-name='"
                +cartArray[i].name+"'>-</button></td>"+
                "<td>PHP"+cartArray[i].total+"</td>"+
                "</tr>";
        }
        $("#show-cart").html(output);
        $("#count-cart").html( shoppingCart.countCart() );
        $("#totalsub-cart").html( shoppingCart.totalCart() );
        $("#total-cart").html( shoppingCart.totalCart() );
    }
    $("#show-cart").on("click", ".delete-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.removeItemFromCartAll(name);
        displayCart();
    });
    $("#show-cart").on("click", ".subtract-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.removeItemFromCart(name);
        displayCart();
    });
    $("#show-cart").on("click", ".plus-item", function(event){
        var name = $(this).attr("data-name");
        shoppingCart.addItemToCart(name, 0, 0, 1);
        displayCart();
    });
    $("#show-cart").on("change", ".item-count", function(event){
        var name = $(this).attr("data-name");
        var count = Number($(this).val());
        shoppingCart.setCountForItem(name, count);
        displayCart();
    });
    displayCart();
</script>

</body>
</html> 